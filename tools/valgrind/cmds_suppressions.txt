VALGRIND SUPPRESSIONS

creation raw fichier de suppresions valgrind

lancer Valgrind avec cette commande :

valgrind --leak-check=full --show-leak-kinds=all --gen-suppressions=all --suppressions=tools/valgrind/valgrind_suppressions.txt ./minishell 2> tools/valgrind/valgrind_suppressions_raw.txt

utiliser le logiciel, en quittant valgrind va envoyer le rapport d'erreur dans valgrind_suppressions_raw.txt

lancer ./extract_suppressions. afin de mettre le contenu de valgrind_suppressions_raw.txt dans save_suppressions.txt avec la bonne mise en forme.

puis lancer valgrind avec les suppressions avec la commande :

valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes --suppressions=tools/valgrind/valgrind_suppressions.txt ./minishell

pour ajouter le suivi des file descriptors, utiliser le parametre suivant:

--track-fds=yes